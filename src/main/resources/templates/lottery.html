<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
<head>
    <meta charset="utf-8"/>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
    />
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
    ></script>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
            rel="stylesheet"
    />
    <link
            th:href="@{/resources/css/welcome.css}"
            rel="stylesheet"
            href="../static/resources/css/welcome.css"
            type="text/css"
    />
    <link
            th:href="@{/resources/css/style.css}"
            rel="stylesheet"
            href="../static/resources/css/style.css"
            type="text/css"
    />
    <title>Lottery Home Page</title>
</head>
<body>

<nav th:insert="~{navbar.html :: nav}"></nav>
<div class="container mx-auto" style="min-height: 60vh">
    <div class="row mt-2">
        <div class="col-6 py-2 pb-3 home-events border-0 mx-auto" style="max-width: 500px">
            <h5 style="text-align: center; font-weight: bold">
                Active lotto events:
            </h5>
            <table
                    id="events"
                    class="table events-table table-striped table-borderless"
            >
                <thead class="table-light thead-table">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Draw date</th>
                    <th scope="col">Price</th>
                    <th scope="col"></th>
                    <th scope="col">Action</th>
                </tr>
                </thead>
                <tr
                        th:if="${event.type == 'LottoEvent'}"
                        th:each="event: ${events}"
                >
                    <td
                            style="width: 8%; background-color: #ffe79d"
                            class="align-middle"
                            th:text="${event.id}"
                    ></td>
                    <td
                            style="width: 40%"
                            class="align-middle"
                            th:text="${event.drawDate}"
                    ></td>
                    <td class="align-middle" th:text="${event.getPrice()}"></td>
                    <td style="width: 20%"></td>
                    <td style="width: 30%">
                        <form
                                method="post"
                                th:action="@{/lottery/{event-type}/{id}(id=${event.id}, event-type=${event.type})}"
                        >
                            <input
                                    type="submit"
                                    style="padding: 0"
                                    class="btn btn-link"
                                    value="Select Ticket"
                            />
                        </form>
                    </td>
                </tr>
            </table>
        </div>

        <div class="col-6 py-2 pb-3 home-events border-0 mx-auto" style="max-width: 500px; height: fit-content">
            <h5 style="text-align: center; font-weight: bold">
                Active football-toto events:
            </h5>
            <table
                    id="events"
                    class="table events-table table-striped table-borderless"
            >
                <thead class="table-light thead-table">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Draw date</th>
                    <th></th>
                    <th scope="col">Action</th>
                </tr>
                </thead>
                <tr
                        th:if="${event.type == 'FootballEvent'}"
                        th:each="event: ${events}"
                >
                    <td
                            style="width: 8%; background-color: #ffe79d"
                            class="align-middle"
                            th:text="${event.id}"
                    ></td>
                    <td
                            style="width: 40%"
                            th:text="${event.drawDate}"
                    ></td>
                    <td style="width: 20%"></td>
                    <td style="width: 30%">
                        <form
                                method="post"
                                th:action="@{/lottery/{event-type}/{id}(id=${event.id}, event-type=${event.type})}"
                        >
                            <input
                                    type="submit"
                                    style="padding: 0"
                                    class="btn btn-link"
                                    value="Select Bet"
                            />
                        </form>
                    </td>
                </tr>

            </table>
        </div>
    </div>
</div>
<div class="container">
    <div class="row align-items-end">
        <div class="col justify-content-center">
            <footer th:insert="~{footer.html :: footer}"></footer>
        </div>
    </div>
</div>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"
></script>
</body>
</html>
